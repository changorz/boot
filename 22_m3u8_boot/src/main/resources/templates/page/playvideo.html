<!DOCTYPE html>
<html lang="en"  xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>视频播放器</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/dplayer@1.25.0/dist/DPlayer.min.css">
    <style type="text/css">
        body,html{width:100%;height:100%;background:#000;padding:0;margin:0;overflow-x:hidden;overflow-y:hidden}
        *{margin:0;border:0;padding:0;text-decoration:none}
        #stats{position:fixed;top:5px;left:10px;font-size:12px;color:#fdfdfd;z-index:2147483647;text-shadow:1px 1px 1px #000, 1px 1px 1px #000}
        #dplayer{position:inherit}
    </style>
    <div id="dplayer"></div>
    <div id="stats"></div>
    <script src="https://cdn.bootcss.com/hls.js/8.0.0-beta.3/hls.min.js"></script>
    <script src="https://cdn.bootcss.com/flv.js/1.5.0/flv.min.js"></script>
    <link href="https://cdn.bootcss.com/dplayer/1.25.0/DPlayer.min.css" rel="stylesheet">
    <div id="dplayer"></div>
    <script src="https://cdn.bootcss.com/dplayer/1.25.0/DPlayer.min.js"></script>
    <script src="https://cdnjs.loli.net/ajax/libs/blueimp-md5/2.10.0/js/md5.min.js"></script>

    <script th:inline="javascript">
        var url= [[${video_url}]];
        var id=md5(url);
        const dp = new DPlayer({
            container: document.getElementById('dplayer'),
            hotkey: true,
            autoplay: true,
            hotkey: true,
            preload: 'auto',
            screenshot: true,
            video: {
                url: url
            },
            danmaku: {
                id: id,
                api: 'https://dplayer.moerats.com/'
            }
        });
    </script>
    <script type="text/javascript" th:inline="javascript">
        var system ={};
        var p = navigator.platform;
        console.log(p)
        system.win = p.indexOf("Win") == 0;
        system.mac = p.indexOf("Mac") == 0;
        system.x11 = (p == "X11") || (p.indexOf("Linux") == 0);
        if(system.win||system.mac||system.xll){//如果是电脑跳转到
            //window.location.href="./forbid.html";
            // alert(888)
        }else{  //如果是手机,跳转到
            //alert("暂不支持手机访问，请用电脑访问！");
            window.location.href=[[${video_url}]];
        }
    </script>

</head>
<body>

</body>
</html>